<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>第十五届全国大学生智能车竞赛信标组声音定位方案初探 | Pandior's Blog</title><meta name="description" content="关于第十五届信标车各种方案的浅见。"><meta name="keywords" content="方案分析"><meta name="author" content="刁晨昊,Diaochenhao@163.com"><meta name="copyright" content="刁晨昊"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/panda.ico"><link rel="canonical" href="https://pandior.ink/%E4%BF%A1%E6%A0%87%E8%BD%A6%E4%BA%92%E7%9B%B8%E5%85%B3%E5%AE%9A%E4%BD%8D.html"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="第十五届全国大学生智能车竞赛信标组声音定位方案初探"><meta property="og:url" content="https://pandior.ink/%E4%BF%A1%E6%A0%87%E8%BD%A6%E4%BA%92%E7%9B%B8%E5%85%B3%E5%AE%9A%E4%BD%8D.html"><meta property="og:site_name" content="Pandior's Blog"><meta property="og:description" content="关于第十五届信标车各种方案的浅见。"><meta property="og:image" content="https://pandior.ink/img/post3.jpg"><meta property="article:published_time" content="2020-07-26T15:20:53.000Z"><meta property="article:modified_time" content="2020-07-27T16:00:00.000Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="next" title="AD7606模块使用及其PCB制作" href="https://pandior.ink/AD7606%E6%A8%A1%E5%9D%97%E4%BD%BF%E7%94%A8%E5%8F%8A%E5%85%B6PCB%E5%88%B6%E4%BD%9C.html"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#F4606C","bgDark":"#2d3035","position":"top-center"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: true    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="//at.alicdn.com/t/font_1959604_pds1y4gfz7.css"><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/touxiang.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">7</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">8</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 类别</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list"></i><span> 资料</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/project/"><i class="fa-fw fas fa-project-diagram"></i><span> 项目</span></a></li><li><a class="site-page" href="/photo/"><i class="fa-fw far fa-images"></i><span> 相册</span></a></li></ul></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#第十五届全国大学生智能车竞赛信标组声音定位方案初探"><span class="toc-text"> 第十五届全国大学生智能车竞赛信标组声音定位方案初探</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#规则下载"><span class="toc-text"> 规则下载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#信标组规则部分截取"><span class="toc-text"> 信标组规则部分截取</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#赛道"><span class="toc-text"> 赛道</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#比赛任务"><span class="toc-text"> 比赛任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#方案分析"><span class="toc-text"> 方案分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#方案一fm信号与mic信号进行互相关运算"><span class="toc-text"> 方案一：FM信号与MIC信号进行互相关运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#方案概述"><span class="toc-text"> 方案概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#优劣分析"><span class="toc-text"> 优劣分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#方案结果"><span class="toc-text"> 方案结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方案二将fm信号与mic信号转换成方波进行输入捕获"><span class="toc-text"> 方案二：将FM信号与MIC信号转换成方波进行输入捕获</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#方案概述-2"><span class="toc-text"> 方案概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#优劣分析-2"><span class="toc-text"> 优劣分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方案三采用纯麦克风阵列定位"><span class="toc-text"> 方案三：采用纯麦克风阵列定位</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#方案概述-3"><span class="toc-text"> 方案概述</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方案四利用鉴相器ad8302输出相位信息"><span class="toc-text"> 方案四：利用鉴相器AD8302输出相位信息</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><header class="post-bg" id="page-header" style="background-image: url(/img/post3.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Pandior's Blog</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 类别</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list"></i><span> 资料</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/project/"><i class="fa-fw fas fa-project-diagram"></i><span> 项目</span></a></li><li><a class="site-page" href="/photo/"><i class="fa-fw far fa-images"></i><span> 相册</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">第十五届全国大学生智能车竞赛信标组声音定位方案初探</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-07-26 23:20:53"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2020-07-26</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-07-28 00:00:00"><i class="fas fa-history fa-fw"></i> 更新于 2020-07-28</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E7%AB%9E%E8%B5%9B/">竞赛</a><i class="fas fa-angle-right post-meta__separator"></i><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E7%AB%9E%E8%B5%9B/%E6%99%BA%E8%83%BD%E8%BD%A6/">智能车</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i><span>字数总计:</span><span class="word-count">1.7k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>阅读时长: 5 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="far fa-comments fa-fw post-meta__icon"></i><span>评论数:</span><a href="/%E4%BF%A1%E6%A0%87%E8%BD%A6%E4%BA%92%E7%9B%B8%E5%85%B3%E5%AE%9A%E4%BD%8D.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/%E4%BF%A1%E6%A0%87%E8%BD%A6%E4%BA%92%E7%9B%B8%E5%85%B3%E5%AE%9A%E4%BD%8D.html" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="第十五届全国大学生智能车竞赛信标组声音定位方案初探"><a class="markdownIt-Anchor" href="#第十五届全国大学生智能车竞赛信标组声音定位方案初探"></a> 第十五届全国大学生智能车竞赛信标组声音定位方案初探</h1>
<h3 id="规则下载"><a class="markdownIt-Anchor" href="#规则下载"></a> 规则下载</h3>
<p>第十五届全国大学生智能汽车竞赛竞速比赛规则<a class="btn-beautify button--animated block" href="https://smartcar.cdstm.cn:8083/ueditor/jsp/upload/file/1583802788498046326.pdf" target="_blank" rel="noopener" title="比赛规则（全）"><i class="far fa-hand-point-right fa-fw"></i> 比赛规则（全） </a></p>
<h2 id="信标组规则部分截取"><a class="markdownIt-Anchor" href="#信标组规则部分截取"></a> 信标组规则部分截取</h2>
<h3 id="赛道"><a class="markdownIt-Anchor" href="#赛道"></a> 赛道</h3>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200726234102135.png?imageMogr2/format/png/blur/1x0/quality/100%7Cwatermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20%7Cimageslim" alt="赛道引导方式" /></p>
<p>分析：相比于其它组别没有规定的道路，“自由”的同时<strong>避障</strong>也显得十分重要，否则车子有可能侧倾或出现其他意外情况。引导方式为<strong>RF信号</strong>和<strong>声音信号</strong>，这点下文分析。</p>
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200727171321369.png?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="信标形状" style="zoom: 25%;" />
<h3 id="比赛任务"><a class="markdownIt-Anchor" href="#比赛任务"></a> 比赛任务</h3>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200726234658264.png" alt="" /></p>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200726234725143.png?imageMogr2/format/png/blur/1x0/quality/100%7Cwatermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20%7Cimageslim" alt="任务细则" /></p>
<p>分析：</p>
<ol>
<li>
<p>限制了车模的大小——30cm见方；</p>
</li>
<li>
<p>限制了主控MCU——<code>Infineon</code>公司<code>TC26X</code>系列单片机</p>
<ul>
<li>英飞凌该款芯片为<strong>双核</strong>MCU（第一次接触）</li>
<li><strong>200M</strong>的主频（其实这个有点低）</li>
</ul>
</li>
<li>
<p>比赛形式分为两种：排位预赛以及对抗赛</p>
<ul>
<li>今年由于疫情特殊，取消了对抗比赛，仅靠灭灯速度</li>
</ul>
</li>
<li>
<p>车模类型：H车模。</p>
<ul>
<li>H车模为麦克纳姆轮，支持全向移动</li>
<li>我们当然是选择贵的钻石版车模，可惜特殊原因至7月底尚未拿到</li>
</ul>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200727000930827.png?imageMogr2/format/png/blur/1x0/quality/100%7Cwatermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20%7Cimageslim" alt="H车模" /></p>
</li>
<li>
<p>RF信号为50~2000Hz的变频<code>Chirp</code>信号，信号大致如下图所示：</p>
</li>
</ol>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200727161724761.png?imageMogr2/format/png/blur/1x0/quality/100%7Cwatermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20%7Cimageslim" alt="RF信号" /></p>
<h2 id="方案分析"><a class="markdownIt-Anchor" href="#方案分析"></a> 方案分析</h2>
<p><em>（目前比赛已有的方案有但不限于以下数种）</em></p>
<p><strong><font color="#dd0000">首先在此非常感谢为我们比赛方案提供各种奇思妙想的老师们~🌸</font></strong></p>
<p>首先根据声音信号测距原理，距离<code>D</code>为</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>r</mi><mi>e</mi><mi>c</mi><mi>e</mi><mi>i</mi><mi>v</mi><mi>e</mi></mrow></msub><mo>−</mo><msub><mi>t</mi><mrow><mi>s</mi><mi>e</mi><mi>n</mi><mi>d</mi></mrow></msub><mo stretchy="false">)</mo><mo>∗</mo><msub><mi>V</mi><mrow><mi>s</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D=(t_{receive}-t_{send})*V_{sound} 
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>假设声音在传播过程中只发生了幅度衰减、时间延迟以及叠加了一些高斯白噪声，那么</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>A</mi><mo>⋅</mo><msub><mi>f</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><msub><mi>t</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>n</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_{r}(t)=A\cdot f_{s}(t-t_{0})+n_{0}(t)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span></p>
<p>将接受到的信号与原来发射信号做互相关运算，得</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mrow><mi>r</mi><mo separator="true">,</mo><mi>s</mi></mrow></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><msub><mi>f</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo><mo>⋅</mo><msub><mi>f</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>τ</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo><mi>d</mi><mi>τ</mi></mrow><annotation encoding="application/x-tex">R_{r,s}(t)=\int_{-\infty }^{+\infty }f_{s}(\tau )\cdot  f_{r}(\tau -t)d\tau
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.491512em;vertical-align:-0.970281em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212310000000002em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.970281em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span></span></span></span></span></p>
<p>相关结果的极大值与实际信号延迟相一致。</p>
<h3 id="方案一fm信号与mic信号进行互相关运算"><a class="markdownIt-Anchor" href="#方案一fm信号与mic信号进行互相关运算"></a> 方案一：FM信号与MIC信号进行互相关运算</h3>
<h4 id="方案概述"><a class="markdownIt-Anchor" href="#方案概述"></a> 方案概述</h4>
<p><em>这个方案为我们目前正在使用的方案。</em></p>
<p>利用<code>RDA5807</code>接收的<strong>FM信号</strong>和麦克风阵列接收到的<strong>音频信号</strong>进行<strong>互相关</strong>运算。</p>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200727164409598.png?imageMogr2/format/png/blur/1x0/quality/100%7Cwatermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20%7Cimageslim" alt="RDA5807" /></p>
<h4 id="优劣分析"><a class="markdownIt-Anchor" href="#优劣分析"></a> 优劣分析</h4>
<ul>
<li>
<p>优点</p>
<ul>
<li>FM信号以电磁波形式在空间传播，传播速度为<strong>光速</strong>，可作为参考信号</li>
<li>声音传播速度约为340m/s，通过互相关运算求出峰值对应的下标结合采样率f<sub>采样</sub>，可求出定位精度为V<sub>声音</sub>/f<sub>采样</sub></li>
<li>具有一定的<strong>容错率</strong>，即使在麦克风旁边放歌也可以精准定位</li>
</ul>
</li>
<li>
<p>缺点</p>
<ul>
<li>对声音传播要求比较高，无回声，无较大干扰噪声</li>
<li>单片机内部RAM资源有限，最大仅支持2048个点运算，限制了通过提高采样率达到提高精度的方式</li>
<li>喇叭麦克风组成的系统并非<strong>纯延迟系统</strong>，该系统对于不同的频率有着不同的<strong>幅频特性</strong>和<strong>相频特性</strong></li>
</ul>
</li>
<li>
<p>优化方案</p>
<ul>
<li>
<p>通过FFT算法，将互相关运算先转为<strong>频域共轭相乘</strong>再通过IFFT求解互相关，FFT（快速傅里叶变化）将DFT（离散傅里叶变换）时间复杂度从<em>O(N<sup>2</sup>)<em>降至</em></em>*O(NlogN)***，由于舍弃误差，FFT还会比DFT精确很多。</p>
</li>
<li>
<p>采取<strong>楼氏硅麦</strong>取代目前智能车各大店铺售卖的基于<code>MAX9814</code>咪头接收器，硅麦相对于驻极体麦克风（咪头），具有体积小，产品一致性好，稳定等特点，主要用于高端设备。（实验结果确实如此，硅麦测距数值比咪头稳定很多）</p>
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200727115050206.png?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="驻极体麦克风" style="zoom:50%;" />
</li>
</ul>
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200727115145961.png?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="硅麦" style="zoom: 67%;" />
<ul>
<li>为了获得更陡峭极值的互相关函数可以使用广义互相关*（generalized cross-correlation）*，<strong>在频域使用一个加权函数白化输入信号</strong>（目前使用的一般互相关算法数值比较稳定，虽然有些许噪声，但是信噪比还在可接受范围，最多跳跃一个值，后续根据情况决定是否引入加权函数）</li>
<li>使用<code>TC264DA</code>芯片，相比于<code>TC264D</code>，DA多了硬件FFT以及512KB的EMEM存储空间
<ul>
<li>此硬件FFT最大支持1024个点，<s>基本没用</s></li>
<li>CPU访问512KB的EMEM内存空间花费的时间是访问自己内存空间的3倍</li>
</ul>
</li>
<li>增加采样周期，也就是提高扫频的时间长度，在一定程度上可以抑制环境噪声的影响，但比赛的竞技性质决定我们最多采集两个周期的信号（实际情况证明两个周期的互相关结果明显优于采集一个周期运算结果）</li>
</ul>
</li>
</ul>
<h4 id="方案结果"><a class="markdownIt-Anchor" href="#方案结果"></a> 方案结果</h4>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200728213957515.png?imageMogr2/format/png/blur/1x0/quality/100%7Cwatermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20%7Cimageslim" alt="整体结构" /></p>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200728213913512.png?imageMogr2/format/png/blur/1x0/quality/100%7Cwatermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20%7Cimageslim" alt="测距结果" /></p>
<h3 id="方案二将fm信号与mic信号转换成方波进行输入捕获"><a class="markdownIt-Anchor" href="#方案二将fm信号与mic信号转换成方波进行输入捕获"></a> 方案二：将FM信号与MIC信号转换成方波进行输入捕获</h3>
<h4 id="方案概述-2"><a class="markdownIt-Anchor" href="#方案概述-2"></a> 方案概述</h4>
<p><code>RDA5807</code>、硅麦都是将FM信号转换成变化的电压信号，然后通过ADC读取对应的电压大小。此时我们可以通过一个滞回比较器将正弦波信号转换成方波信号，通过输入捕获，仅采集FM任意一小节波形对应的频率，然后在声音的“方波“中寻找与之对应的频率波形从而算出相位差。</p>
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/QQ图片20200728210226.png?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="手机控制器" style="zoom:25%;" />
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/测试电路.jpg?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="测试电路" style="zoom:67%;" />
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/示波器图片.jpg?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="示波器原始波形" style="zoom: 67%;" />
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200728210741188.png?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="通过滞回比较器的波形图" style="zoom: 80%;" />
<p>可以看见波形并不是非常的理想，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><mrow><mi>p</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{pd}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9011879999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>（Propagation delay time）过大，但是比较器采用的是TI的<code>TL3201</code>，根据芯片手册理论值应为50ns左右，后续有时间研究一下这个问题。</p>
<p><img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200728211221158.png?imageMogr2/format/png/blur/1x0/quality/100%7Cwatermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20%7Cimageslim" alt="datasheet部分" /></p>
<h4 id="优劣分析-2"><a class="markdownIt-Anchor" href="#优劣分析-2"></a> 优劣分析</h4>
<ul>
<li>
<p>优点</p>
<ul>
<li>
<p>这个方法求解时间差的速度非常的快，理论上最大时间<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">△</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\triangle  t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">△</span><span class="mord mathdefault">t</span></span></span></span>为</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">△</mi><mi>t</mi><mo>=</mo><mfrac><msub><mi>L</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><msub><mi>V</mi><mrow><mi>v</mi><mi>o</mi><mi>i</mi><mi>c</mi><mi>e</mi></mrow></msub></mfrac></mrow><annotation encoding="application/x-tex">\triangle  t=\frac{L_{max}}{V_{voice}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">△</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.19633em;vertical-align:-0.8360000000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.3139999999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8360000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
</ul>
</li>
<li>
<p>缺点</p>
<ul>
<li>
<p>容错率过低，一旦<strong>对应FM频率的麦克风波形</strong>没捕捉到结果会相差很大（这点可以通过剪枝解决，如一旦发现麦克风频率低于捕获FM的频率就重新捕获FM信号）</p>
</li>
<li>
<p>变频信号有部分信号对应的幅度过小导致无法上拉比较器</p>
</li>
<li>
<p>并非理想比较器，总之就是<strong>理想很丰满，现实很骨感</strong></p>
</li>
</ul>
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200728213550222.png?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="变频信号对应的方波波形" style="zoom:67%;" />
<ul>
<li>将死区空间设小以后非常容易受噪声干扰</li>
</ul>
</li>
</ul>
<h3 id="方案三采用纯麦克风阵列定位"><a class="markdownIt-Anchor" href="#方案三采用纯麦克风阵列定位"></a> 方案三：采用纯麦克风阵列定位</h3>
<h4 id="方案概述-3"><a class="markdownIt-Anchor" href="#方案概述-3"></a> 方案概述</h4>
<p>属于弱化版方案一，主要利用GCC-PHAT算法</p>
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200728215616767.png?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="求解角度" style="zoom:50%;" />
<img src= "/img/loading.gif" data-src="http://img.pandior.ink/image-20200728215658434.png?imageMogr2/format/png/blur/1x0/quality/100|watermark/2/text/cGFuZGlvci5pbms=/font/dmlqYXlh/fontsize/1760/fill/IzQyNkZFQQ==/dissolve/58/gravity/SouthEast/dx/20/dy/20|imageslim" alt="角度大致匹配" style="zoom:50%;" />
<h3 id="方案四利用鉴相器ad8302输出相位信息"><a class="markdownIt-Anchor" href="#方案四利用鉴相器ad8302输出相位信息"></a> 方案四：利用鉴相器AD8302输出相位信息</h3>
<p><em>这个方案是在群里潜水看他们聊天看到的，回头验证一下看看有没有可行性</em></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:Diaochenhao@163.com">刁晨昊</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://pandior.ink/%E4%BF%A1%E6%A0%87%E8%BD%A6%E4%BA%92%E7%9B%B8%E5%85%B3%E5%AE%9A%E4%BD%8D.html">https://pandior.ink/信标车互相关定位.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://pandior.ink" target="_blank">Pandior's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%96%B9%E6%A1%88%E5%88%86%E6%9E%90/">方案分析</a></div><div class="post_share"><div class="social-share" data-image="/img/post3.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信" onclick="window.open('/img/wechat.jpg')"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付宝" onclick="window.open('/img/alipay.jpg')"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/AD7606%E6%A8%A1%E5%9D%97%E4%BD%BF%E7%94%A8%E5%8F%8A%E5%85%B6PCB%E5%88%B6%E4%BD%9C.html"><img class="next-cover" data-src="/img/post3.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">AD7606模块使用及其PCB制作</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'nick,mail')
var requiredFields = requestSetting(['nick','mail'],'nick')

window.valine = new Valine({
  el:'#vcomment',
  appId: 'GRvOTbCK0fjzlQzmM5aI6PgK-gzGzoHsz',
  appKey: 'mzbnr2HjJ2wEjsIJsGqGzfm9',
  placeholder: 'Please leave your footprints',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'zh-cn',
  recordIP: false,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: "",
  enableQQ: true,
  requiredFields: requiredFields
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By 刁晨昊</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">All articles in this blog are licensed under CC BY-NC-SA 4.0 unless stating additionally.</div><div class="icp"><a href="http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>苏ICP备20017886号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" title="缩小字体"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="简繁转换">繁</button><button id="darkmode" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fas fa-comments"></i></a><button class="close" id="mobile-toc-button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script defer id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script>(function(d, w, c) {
    w.ChatraID = 'kxBo4Jpwcsmv3ravt';
    var s = d.createElement('script');
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments);
    };
    s.async = true;
    s.src = 'https://call.chatra.io/chatra.js';
    if (d.head) d.head.appendChild(s);
})(document, window, 'Chatra');

if (false) {
  var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      Chatra('openChat')
    });
} else {
  if (false) {
    function chatBtnHide () {
      Chatra('hide')
    }
    function chatBtnShow () {
      Chatra('show')
    }
  }
}</script></body></html>